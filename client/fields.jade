template(name='color_edit')
    .ui.large.form
        .field
            label 
                if icon
                    +i name=icon
                    //- i.icon(class=icon)
                if title
                    |#{title}
                else if key
                    |#{key}
                else
                    |#{this}
            input.edit_color(type='color' value=field_value placeholder='color' autocomplete="off")



template(name='color_view')
    .ui.form
        .field
            label 
                if icon
                    +i name=icon
                    //- i.icon(class=icon)
                if title
                    |#{title}
                else if key
                    |#{key}
                else
                    |#{this}
            .ui.large.label(style="background:#{field_value}")
            |#{field_value}

template(name='color_icon_edit')
    div
    .ui.small.inline.header
        if icon
            +i name=icon
            //- i.icon(class=icon)
        if title
            |#{title}
        else if key
            |#{key}
        else
            |#{this}
    input.color_icon(type='url' value=field_value placeholder='icons8 class' autocomplete="off")
    if field_value
        img.ui.inline.image(src="https://img.icons8.com/color/48/000000/#{field_value}.png")

template(name='icon_edit')
    div
    .ui.right.icon.input
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if key
                |#{key}
            else
                |#{this}    
        if field_value
            //- i.large.icon(class=field_value)
            img(src="https://img.icons8.com/color/48/000000/#{field_value}.png")
        input.icon_val(type='text' value=field_value placeholder='icon8 class' autocomplete="off")


template(name='color_icon_view')
    if field_value
        img(src="https://img.icons8.com/color/48/000000/#{field_value}.png")

template(name='icon_view')
    if field_value
        div
        //- i.icon(class=field_value)
        img(src="https://img.icons8.com/office/48/000000/#{field_value}.png")


template(name='i')
    img(src="https://img.icons8.com/color/48/000000/#{name}.png" class=classes title=title)
    //- img(src="https://img.icons8.com/office/48/000000/#{name}.png" class=classes title=title)
    //- img(src="https://img.icons8.com/ultraviolet/48/000000/#{name}.png" class=classes title=title)

template(name='ismall')
    img(src="https://img.icons8.com/office/24/000000/#{name}.png" class=classes title=title)
    //- img(src="https://img.icons8.com/ultraviolet/24/000000/#{name}.png" class=classes title=title)

template(name='iblue')
    img(src="https://img.icons8.com/ultraviolet/40/000000/#{name}.png" class=classes)

template(name='iflat')
    img.ui.mini.image(src="https://img.icons8.com/flat_round/64/000000/#{name}.png")

template(name='ioffice')
    img.ui.image(src="https://img.icons8.com/office/30/000000/#{name}.png" class=classes)

template(name='link_edit')
    .ui.form
        .field
            label 
                if icon
                    +i name=icon
                    //- i.icon(class=icon)
                |#{title}
            input.edit_url(type='url' value=field_value placeholder='url' autocomplete="off")
        // +call_watson mode='url'


template(name='link_view')
    if field_value
        div
        .ui.small.inline.header 
            if icon
                +i name=icon
                //- i.icon(class=icon)
            |#{title}
        a(href=field_value target='_window') #{field_value}
        img.ui.fluid.image(src=field_value)

template(name='image_view')
    if field_value
        //- .ui.inline.header
        //-     if icon
        //-         +i name=icon
        //-         //- i.icon(class=icon)
        //-     if title
        //-         |#{title}
        //- else if key
        //-     |#{key}
        //- else
        //-     |#{this}
        img.ui.centered.large.rounded.image(src="{{c.url field_value gravity='face' crop='fit'}}")
        //- a(href="{{c.url field_value gravity='face' crop='fit'}}")
        //-     |download
    //- +call_visual

template(name='pdf_edit')
    .ui.form
        .ui.inline.small.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}            
        .field
            if field_value
                label Uploaded PDF
                a.ui.circular.button(href="{{c.url field_value gravity='face' crop='fit'}}")
                    |Download PDF
                #remove_photo.ui.icon.circular.button
                    i.remove.red.icon
            else
                //- if icon
                //-     i.icon(class=icon)
                //- |#{title}
                //- if is_dev
                //-     input.cloudinary_id(type='text' value=field_value placeholder='cloudinary_id' autocomplete="off")
                // else
                //     label Upload Image
                input(type='file' name='upload_pdf' accept='application/pdf')

template(name='pdf_view')
    if field_value
        if icon
            +i name=icon
            //- i.icon(class=icon)
        if title
            |#{title}
        //- else if key
        //-     |#{key}
        //- else
        //-     |#{this}
        a(href="{{c.url field_value gravity='face' crop='fit'}}")
            |download pdf
    //- +call_visual

template(name='image_edit')
    .ui.form
        .ui.inline.small.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}            
        .field
            if field_value
                //- label Image
                img.ui.large.centered.rounded.image(src="{{c.url field_value height=500 gravity='face' crop='fill'}}")
                a#remove_photo.ui.right.corner.link.label
                    i.remove.red.link.icon
            else
                //- if icon
                //-     i.icon(class=icon)
                //- |#{title}
                //- if is_dev
                //-     input.cloudinary_id(type='text' value=field_value placeholder='cloudinary_id' autocomplete="off")
                // else
                //     label Upload Image
                input(type='file' name='upload_image' accept='image/*' capture='user')


template(name='image_link_edit')
    .ui.fluid.input
        .ui.smoothed.label image link
        i.image.icon
        input.edit_image_link(type='link' value=field_value placeholder='image link'  autocomplete="off")
    if field_value
        img.ui.fluid.image(src=field_value)
    // +call_visual


template(name='image_link_view')
    img.ui.image(src=field_value)


template(name='textarea_view')
    if field_value
        div
        .ui.inline.small.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}            
        |{{nl2br field_value}}

template(name='textarea_edit')
    .ui.form
        .field
            label 
                if icon
                    +i name=icon classes='ui avatar image'
                if title
                    |#{title}
                else if label
                    |#{label}
                else if key
                    |#{key}
                else
                    |#{this}
            textarea.edit_textarea(rows='5') #{field_value}
        //- +call_watson mode='text' key=key


template(name='html_edit')
    .ui.form
        .field
            label 
                if icon
                    +i name=icon classes='ui avatar image'
                    //- i.icon(class=icon)
                if title
                    |#{title}
                else if key
                    |#{key}
                else
                    |#{this}
    .froala-container
        +froalaReactive getFEContext
    if is_dev
        +call_watson mode='html'
    div
    //- +tone mode='html'
    if watson
        +watson_view
        
        
template(name='html_view')
    if field_value
        div
        if icon
            +i name=icon classes='ui avatar image'
            //- i.icon(class=icon)
        //- if title
        //-     |#{title}
        //- else if key
        //-     |#{key}
        //- else
        //-     |#{this}
    |!{field_value}
    //- +call_watson mode='html'
    //- if watson
    //-     +watson_view


template(name='document_edit')
    // .ui.labeled.fluid.icon.input
    //     .ui.label 
    //         // if icon
    //         //     i.icon(class=icon)
    //         if title
    //             |#{title}
    //         else
    //             |#{key}
    //     input.edit_text(type='text' value=field_value placeholder=placeholder autocomplete="off")
    with referenced_document
        .ui.header 
            |#{title}
        .content 
            |!{content}
            
                
template(name='document_view')
    //- .ui.styled.fluid.accordion
    //-     .title 
    //-         .ui.header 
    //-             |#{title}
    //-             i.dropdown.icon
    //-     .content 
    if is_staff
        with referenced_document
            +edit_button
    |!{referenced_document.content}
        
template(name='text_edit')
    .ui.fluid.icon.input
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
        //- +clear_value
        input.edit_text(type='text' value=field_value placeholder=placeholder autocomplete="off")
        

template(name='slug_edit')
    .ui.fluid.icon.input
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
        //- +clear_value
        input.edit_text(type='text' value=field_value placeholder=placeholder autocomplete="off")
        .ui.button.slugify_title
            +i name='slug'


template(name='clear_value')
    if field_value
        i.remove.link.large.icon.clear_value

template(name='text_view')
    if field_value
        unless header
            div
            .ui.small.inline.header
                if icon
                    +i name=icon
                if title
                    |#{title}
                else if label
                    |#{label}
                else if key
                    |#{key}
                else
                    |#{this}
        .ui.inline.small.header #{field_value}




template(name='parent_edit')
    .ui.fluid.icon.input
        .ui.small.inline.header
            |parent edit
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
        +clear_value
        input.edit_text(type='text' value=field_value placeholder=placeholder autocomplete="off")
        
template(name='parent_view')
    if field_value
        .ui.header Parent    
            div
            // if icon
            //     i.icon(class=icon)
            | &nbsp;
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        .ui.inline.small.header #{field_value}




template(name='phone_edit')
    .ui.fluid.input
        .ui.inline.small.header 
            if icon
                +i name=icon
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        //- +clear_value                
        input.edit_phone(type='tel' value=field_value placeholder=placeholder autocomplete="off")

template(name='phone_view')
    if field_value
        unless header
            div
            .ui.small.inline.header
                if icon
                    +i name=icon
                if title
                    |#{title}
                else if label
                    |#{label}
                else if key
                    |#{key}
                else
                    |#{this}
        strong &nbsp; #{field_value}



template(name='number_edit')
    div
    .ui.fluid.input
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else
                |#{key}
        //- +clear_value                
        input.edit_number(type='number' value=field_value placeholder=placeholder autocomplete="off")
            
            
template(name='number_view')
    if field_value
        div
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        strong &nbsp; #{field_value}


template(name='karma_price_edit')
    div
    .ui.fluid.input
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else
                |#{key}
        //- +clear_value                
        input.edit_price(type='number' value=field_value placeholder=placeholder autocomplete="off")
template(name='karma_price_view')
    if field_value
        div
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        strong &nbsp; #{field_value}
        .ui.big.green.button.buy_now
            |buy now


template(name='dollar_price_edit')
    div
    .ui.fluid.input
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else
                |#{key}
        //- +clear_value                
        input.edit_price(type='number' value=field_value placeholder=placeholder autocomplete="off")
template(name='dollar_price_view')
    if field_value
        div
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        strong &nbsp; #{field_value}
        .ui.big.green.button.buy_now
            |buy now


template(name='date_edit')
    .ui.fluid.input
        .ui.small.inline.header
            if icon
                +i name=icon            
            if title
                |#{title}
            else if label
                |#{label}
            //- else if key
            //-     |#{key}
            //- else
            //-     |#{this}
        //- +clear_value                
        input.edit_date(type='date' value=field_value placeholder=placeholder autocomplete="off")


template(name='date_view')
    if field_value
        div
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        strong &nbsp; #{field_value}



template(name='time_edit')
    .ui.fluid.input
        .ui.small.inline.header
            if icon
                +i name=icon            
            if title
                |#{title}
            else if label
                |#{label}
            //- else
            //-     |#{key}
        //- +clear_value                
        input.edit_time(type='time' value=field_value placeholder=placeholder autocomplete="off")
                
                
template(name='time_view')
    if field_value
        .ui.inline.header
            if icon
                +i name=icon
            if title
                |#{title}
            else if key
                |#{key}
            else
                |#{this}
        strong &nbsp; #{field_value}

template(name='datetime_edit')
    .ui.form
        .field
            label 
                if icon
                    +i name=icon
                if title
                    |#{title}
                else if label
                    |#{label}
                else
                    |#{key}
            //- +clear_value                
            input.edit_datetime(type='datetime-local' value=field_value placeholder=placeholder autocomplete="off")

template(name='datetime_view')
    if icon
        i.icon(class=icon)
    if title
        |#{title}
    else if label
        |#{label}        
    else if key
        |#{key}
    else
        |#{this}
    strong &nbsp; #{field_value}


template(name='array_edit')
    div
    .ui.fluid.input
        .ui.small.inline.header
            if icon
                +i name=icon
                //- i.icon(class=icon)
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
        input.new_element(type='text' placeholder='+' autocomplete="off")
        //- +clear_value                
    div
    if field_value
        each field_value
            .ui.large.basic.label
                i.delete.icon.remove_element
                |#{this}
                
template(name='array_view')
    if field_value
        div
        .ui.inline.small.header
            if icon
                +i name=icon
            if title
                |#{title}
            else if label
                |#{label}
            else if key
                |#{key}
            else
                |#{this}
        each field_value
            .ui.large.basic.label #{this}


template(name='children_edit')
    if children
        div
        .ui.inline.header 
            |#{title}
        .ui.icon.large.circular.button.add_child(title="add child #{ref_model}")
            i.plus.icon
        //- .ui.styled.fluid.accordion
        each children
            +child_edit


template(name='child_edit')
    .ui.smoothed.segment
        each child_fields
            +Template.dynamic template=edit_template 
        +remove_button
        //-     +text_edit key='key'
        //-     +text_edit key='field'
        //-     +single_doc_edit key='field' ref_model='field_type' ref_key='slug' label='Field Type'
        //-     +text_edit key='label'
        //-     +text_edit key='icon'
        //-     if icon
        //-         i.big.icon(class=icon)
        //- div

              //- if is_reference
        
        //     +single_doc_edit key='ref_model' ref_model='model' ref_key='slug' label='Referenced model (if ref)'
        //     .ui.divider




template(name='children_view')
    .ui.accordion
        .title
            .ui.inline.header
                if icon
                    +i name=icon
                    //- i.icon(class=icon)
                if title
                    |#{title}
                else if label
                    |#{label}
                else if key
                    |#{key}
                else
                    |#{this}
                i.dropdown.icon
        .content
            each children
                .ui.smoothed.segment
                    +child_view


template(name='child_view')
    each child_fields
        //- |#{rank} #{title} #{title}
        //- |#{key}
        +Template.dynamic template=view_template 
    +remove_button
    +view_button
        // if field_template
        //     .ui.header field template #{field_template}
        // else 

        // .ui.red.segment
        //     +text_edit key='key'
        //     // +text_edit key='field'
        //     +single_doc_edit key='field' ref_model='field' ref_key='slug' label='Field Type'
        //     +text_edit key='label'
        //     +text_edit key='icon'
        //     if icon
        //         i.big.icon(class=icon)
        //     // if is_reference
    
        //     +single_doc_edit key='ref_model' ref_model='model' ref_key='slug' label='Referenced model (if ref)'
        //     .ui.divider







template(name='youtube_edit')
    .ui.labeled.fluid.icon.input
        .ui.smoothed.label 
            // if icon
            //     i.icon(class=icon)
            |Youtube Id
        input.youtube_id(type='text' value=field_value placeholder=placeholder autocomplete="off")
    if field_value
        iframe(width='560' height='315' src="https://www.youtube.com/embed/#{field_value}" frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen='')

template(name='youtube_view')
    if field_value
        if icon
            +i name=icon
            //- i.icon(class=icon)
        .ui.embed(data-source="youtube" data-id=field_value)

        //- // iframe(width='560' height='315' src="https://www.youtube.com/embed/#{field_value}" frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen='')
        //- iframe(src="https://www.youtube.com/embed/#{field_value}" frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen='')



template(name='signature_edit')
    .ui.segment
        canvas(id="signature-pad" class="signature-pad" width='800' height='200')
        .ui.grid
            .middle.aligned.row
                .fourteen.wide.column
                    .ui.huge.basic.fluid.button.save(title='Save')
                        i.checkmark.icon
                        |save signature
                .one.wide.column
                    .ui.large.icon.basic.button.clear(title='Clear')
                        i.remove.icon

template(name='signature_view')
    .ui.small.header
        if icon
            +i name=icon
            //- i.icon(class=icon)
        | #{title}    
    img.ui.fluid.centered.rounded.image(src=field_value)
    if is_admin
        .ui.button.print_rules
            i.download.icon
            |download PDF
    //- .ui.icon.button.print_guest
    //-     i.download.icon
    //-     |Download Guest PDF



template(name='boolean_edit')
    div
    .ui.small.inline.header
        if icon
            //- i.icon(class=icon)
            +i name=icon classes='ui inline mini image'
        if title
            |#{title}
        else if label
            |#{label}
        else if key
            |#{key}
        else
            |#{this}
    //- .ui.icon.button.toggle_boolean
    .ui.circular.button.toggle_boolean(class=boolean_toggle_class)
        if field_value
            if true_icon
                i.large.green.icon(class=true_icon)
            else
                |Yes
        else
            if false_icon
                i.large.red.icon(class=false_icon)
            else
                |No


template(name='boolean_view')
    div
    .ui.small.inline.header
        if icon
            //- i.icon(class=icon)
            +i name=icon classes='ui inline mini image'
        if title
            |#{title}
        else if label
            |#{label}
        else if key
            |#{key}
        else
            |#{this}
    if field_value
        i.large.green.checkmark.icon
    else
        i.large.cancel.icon

template(name='single_doc_view')
    div
    if field_value
        if icon
            +i name=icon
            //- i.icon(class=icon)
        .ui.small.inline.header(title=key)
            |#{title}
        .ui.basic.label
            if icon
                +i name=icon
                //- i.icon(class=icon)
            |#{field_value}


template(name='single_doc_edit')
    div
    .ui.small.inline.header(title=key) 
        if icon
            +i name=icon
            //- i.icon(class=icon)
        |#{label} #{title}
    each choices
        .ui.small.circular.compact.button.select_choice(class=choice_class)
            if icon
                +i name=icon classes='ui avatar image'
                //- i.icon(class=icon)
                //- +i name=icon classes='ui avatar image'
            |#{calculated_label}
            |#{slug}


template(name='multi_doc_edit')
    div
    .ui.small.inline.header(title=key)
        if icon
            +i name=icon classes='ui avatar image'
            //- i.icon(class=icon)
        |#{title} #{label}    
    each choices
        .ui.circular.compact.button.select_choice(class=choice_class)
            if icon
                +i name=icon classes='ui avatar image'
                //- i.icon(class=icon)
            //- |#{title} #{slug}
            |#{slug}
    //- .ui.sub.header 
    //-     if icon
    //-         i.icon(class=icon)
    //-     |#{title}
    //- select.ui.fluid.multiple.selection.dropdown(multiple='')
    //-     each choices
    //-         option(value=slug) #{title} #{unit_number}
    //- .ui.fluid.multiple.selection.dropdown
    //-  // input(type='hidden' name='multi_doc_edit')
    //-  // i.dropdown.icon
    //-  // .default.text 
    //-  //     |#{title}
    //-  // .menu
    //-  //     each choices
    //-  //         .item(data-value=slug) 
    //-  //             if icon
    //-  i.icon(class=icon)
    //-  //             |#{title}

    

template(name='single_unit_edit')
    .ui.header single unit lookup
    
    
    
    
    
    
template(name='multiple_unit_edit')
    .ui.header multiple unit lookup
    
    
    

template(name='multi_doc_view')
    if field_value
        div
        if icon
            +ismall name=icon classes='ui avatar image'
            //- i.icon(class=icon)
        .ui.inline.header(title=key)
            |#{title}
        each field_value
            .ui.basic.label
                |#{this}



template(name='single_user_edit')
    div
    .ui.inline.small.header 
        if icon
            +i name=icon
            //- i.icon(class=icon)
        |#{title}
    if field_value
        .pull_user.ui.button(title='remove user')
            i.user.remove.icon
            |clear #{field_value}
    unless field_value
        .ui.input
            input#single_user_select_input(type='text' placeholder='lookup user...')
            each selections
                .ui.large.label
                    |#{first_name} #{last_name} #{username} 
        if user_results
            .ui.attached.smoothed.segment
                .ui.middle.aligned.selection.animated.list
                    each user_results
                        .select_user.item
                            h4.ui.header
                                img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
                                |#{first_name} #{last_name} #{username}
    if field_value
        +user_card field_value
        //- |#{this}
        //- .item
        //-     .right.floated.content
        //-         i.pull_user.remove.link.icon
        //-     .image
        //-         img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
        //-     .content
        //-         h4.ui.header
        //-             |#{first_name} #{last_name}
        //-             small @#{username}


template(name='single_user_view')
    .ui.small.inline.header 
        if icon
            +i name=icon    
        |#{title}
        |#{label}
    with field_value
        .ui.inline.header #{field_value}
        +username_info
            


template(name='single_person_view')
    div
    .ui.small.header #{title}
    if field_value
        +person_card field_value
    div
            
            
template(name='single_person_edit')
    .ui.small.header #{title}
    .ui.form
        if field_value
            +person_card field_value
            .ui.circlar.button.clear_selection
                i.remove.icon
                |Clear
        else
            .field.attached
                input#single_person_select_input(type='text' placeholder='Lookup Username...')
            if person_results
                .ui.top.attached.segment
                    .ui.middle.aligned.selection.animated.large.list
                        each person_results
                            .select_person.item
                                h3.ui.header
                                    if image
                                        img.ui.avatar.image(src="{{c.url image width=100 height=100 gravity='face' crop='fill'}}")
                                    //- else
                                    //-     i.user.icon
                                    strong &nbsp; #{first_name} #{last_name}
                                    small @#{username}
                                .ui.sub.header #{building_number} #{address}
            else
                .ui.header No results
            // .ui.list
            //     each field_value
            //         |#{this}
            //         .item
            //             .right.floated.content
            //                 i.pull_user.remove.link.icon
            //             .image
            //                 img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
            //             .content
            //                 h4.ui.header
            //                     |#{first_name} #{last_name}
            //                     small @#{username}


template(name='multi_user_edit')
    .ui.small.inline.header
        if icon
            +i name=icon
            //- i.icon(class=icon)
        if title
            |#{title}
        else if label
            |#{label}
        else if key
            |#{key}
        else
            |#{this}
    .ui.input
        input#multi_user_select_input(type='text' placeholder="lookup #{role_filter}...")
    each selections
        .ui.large.label
            |#{username} #{first_name} #{last_name}
    if user_results
        .ui.top.attached.segment
            .ui.middle.aligned.selection.animated.list
                each user_results
                    .select_user.item
                        h5.ui.header
                            img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
                            strong #{first_name} #{last_name}
                            small #{username}
    +clear_value                
    .ui.list
        each field_value
            // |#{this}
            +user_card
                //- with user_from_id
                //-     .item
                //-         .right.floated.content
                //-             i.pull_user.remove.link.icon
                //-         .image
                //-             img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
                //-         .content
                //-             h4.ui.header
                //-                 |#{first_name} #{last_name}
                //-                 small @#{username}


template(name='multi_doc_input')
    //- .ui.form
        //- .ui.small.inline.header
        //-     if icon
        //-         i.icon(class=icon)
        //-     if title
        //-         |#{title}
        //-     else if label
        //-         |#{label}
        //-     else if key
        //-         |#{key}
        //-     else
        //-         |#{this}
    .ui.big.input
        input#multi_doc_select_input(type='text' placeholder=title autocomplete="off")
        //- input#multi_doc_select_input(type='text' placeholder="Lookup #{ref_model}..." autocomplete="off")
    each selections
        .ui.large.label
            |#{first_name} #{last_name}
    if doc_results
        .ui.attached.segment
            .ui.middle.aligned.selection.animated.list
                each doc_results
                    .select_doc.item
                        h3.ui.header
                            //- img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
                            strong #{first_name} #{last_name}
        //- +clear_value                
        //- .ui.list
        //-     each field_value
        //-         // |#{this}
        //-         +user_card
        //-         .ui.large.button
        //-             |#{first_name} #{last_name}
                //- with user_from_id
                //-     .item
                //-         .right.floated.content
                //-             i.pull_user.remove.link.icon
                //-         .image
                //-             img.ui.avatar.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
                //-         .content
                //-             h4.ui.header
                //-                 |#{first_name} #{last_name}
                //-                 small @#{username}

template(name='multi_user_view')
    .ui.small.header 
        |#{title}
        //- #{key} #{label}
    each field_value
        .ui.stackable.cards
            +user_card
            


    
    
